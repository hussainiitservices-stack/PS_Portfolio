import{c as Q,r as I,j as C}from"./index-CP9o-G8W.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=Q("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=Q("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=Q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=Q("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=Q("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/*! @vimeo/player v2.30.1 | (c) 2025 Vimeo | MIT License | https://github.com/vimeo/player.js */function Ie(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,u=[],f=!0,l=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(f=(r=a.call(t)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(b){l=!0,i=b}finally{try{if(!f&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}function de(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function he(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?de(Object(t),!0).forEach(function(r){re(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):de(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function L(){L=function(){return n};var n={},e=Object.prototype,t=e.hasOwnProperty,r=Object.defineProperty||function(c,s,d){c[s]=d.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function f(c,s,d){return Object.defineProperty(c,s,{value:d,enumerable:!0,configurable:!0,writable:!0}),c[s]}try{f({},"")}catch{f=function(s,d,T){return s[d]=T}}function l(c,s,d,T){var v=s&&s.prototype instanceof E?s:E,j=Object.create(v.prototype),S=new N(T||[]);return r(j,"_invoke",{value:w(c,d,S)}),j}function b(c,s,d){try{return{type:"normal",arg:c.call(s,d)}}catch(T){return{type:"throw",arg:T}}}n.wrap=l;var k={};function E(){}function P(){}function g(){}var R={};f(R,a,function(){return this});var A=Object.getPrototypeOf,_=A&&A(A(V([])));_&&_!==e&&t.call(_,a)&&(R=_);var m=g.prototype=E.prototype=Object.create(R);function h(c){["next","throw","return"].forEach(function(s){f(c,s,function(d){return this._invoke(s,d)})})}function p(c,s){function d(v,j,S,F){var O=b(c[v],c,j);if(O.type!=="throw"){var W=O.arg,J=W.value;return J&&typeof J=="object"&&t.call(J,"__await")?s.resolve(J.__await).then(function(U){d("next",U,S,F)},function(U){d("throw",U,S,F)}):s.resolve(J).then(function(U){W.value=U,S(W)},function(U){return d("throw",U,S,F)})}F(O.arg)}var T;r(this,"_invoke",{value:function(v,j){function S(){return new s(function(F,O){d(v,j,F,O)})}return T=T?T.then(S,S):S()}})}function w(c,s,d){var T="suspendedStart";return function(v,j){if(T==="executing")throw new Error("Generator is already running");if(T==="completed"){if(v==="throw")throw j;return X()}for(d.method=v,d.arg=j;;){var S=d.delegate;if(S){var F=M(S,d);if(F){if(F===k)continue;return F}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(T==="suspendedStart")throw T="completed",d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);T="executing";var O=b(c,s,d);if(O.type==="normal"){if(T=d.done?"completed":"suspendedYield",O.arg===k)continue;return{value:O.arg,done:d.done}}O.type==="throw"&&(T="completed",d.method="throw",d.arg=O.arg)}}}function M(c,s){var d=s.method,T=c.iterator[d];if(T===void 0)return s.delegate=null,d==="throw"&&c.iterator.return&&(s.method="return",s.arg=void 0,M(c,s),s.method==="throw")||d!=="return"&&(s.method="throw",s.arg=new TypeError("The iterator does not provide a '"+d+"' method")),k;var v=b(T,c.iterator,s.arg);if(v.type==="throw")return s.method="throw",s.arg=v.arg,s.delegate=null,k;var j=v.arg;return j?j.done?(s[c.resultName]=j.value,s.next=c.nextLoc,s.method!=="return"&&(s.method="next",s.arg=void 0),s.delegate=null,k):j:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,k)}function x(c){var s={tryLoc:c[0]};1 in c&&(s.catchLoc=c[1]),2 in c&&(s.finallyLoc=c[2],s.afterLoc=c[3]),this.tryEntries.push(s)}function y(c){var s=c.completion||{};s.type="normal",delete s.arg,c.completion=s}function N(c){this.tryEntries=[{tryLoc:"root"}],c.forEach(x,this),this.reset(!0)}function V(c){if(c){var s=c[a];if(s)return s.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length)){var d=-1,T=function v(){for(;++d<c.length;)if(t.call(c,d))return v.value=c[d],v.done=!1,v;return v.value=void 0,v.done=!0,v};return T.next=T}}return{next:X}}function X(){return{value:void 0,done:!0}}return P.prototype=g,r(m,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:P,configurable:!0}),P.displayName=f(g,u,"GeneratorFunction"),n.isGeneratorFunction=function(c){var s=typeof c=="function"&&c.constructor;return!!s&&(s===P||(s.displayName||s.name)==="GeneratorFunction")},n.mark=function(c){return Object.setPrototypeOf?Object.setPrototypeOf(c,g):(c.__proto__=g,f(c,u,"GeneratorFunction")),c.prototype=Object.create(m),c},n.awrap=function(c){return{__await:c}},h(p.prototype),f(p.prototype,o,function(){return this}),n.AsyncIterator=p,n.async=function(c,s,d,T,v){v===void 0&&(v=Promise);var j=new p(l(c,s,d,T),v);return n.isGeneratorFunction(s)?j:j.next().then(function(S){return S.done?S.value:j.next()})},h(m),f(m,u,"Generator"),f(m,a,function(){return this}),f(m,"toString",function(){return"[object Generator]"}),n.keys=function(c){var s=Object(c),d=[];for(var T in s)d.push(T);return d.reverse(),function v(){for(;d.length;){var j=d.pop();if(j in s)return v.value=j,v.done=!1,v}return v.done=!0,v}},n.values=V,N.prototype={constructor:N,reset:function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!c)for(var s in this)s.charAt(0)==="t"&&t.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=void 0)},stop:function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(c){if(this.done)throw c;var s=this;function d(O,W){return j.type="throw",j.arg=c,s.next=O,W&&(s.method="next",s.arg=void 0),!!W}for(var T=this.tryEntries.length-1;T>=0;--T){var v=this.tryEntries[T],j=v.completion;if(v.tryLoc==="root")return d("end");if(v.tryLoc<=this.prev){var S=t.call(v,"catchLoc"),F=t.call(v,"finallyLoc");if(S&&F){if(this.prev<v.catchLoc)return d(v.catchLoc,!0);if(this.prev<v.finallyLoc)return d(v.finallyLoc)}else if(S){if(this.prev<v.catchLoc)return d(v.catchLoc,!0)}else{if(!F)throw new Error("try statement without catch or finally");if(this.prev<v.finallyLoc)return d(v.finallyLoc)}}}},abrupt:function(c,s){for(var d=this.tryEntries.length-1;d>=0;--d){var T=this.tryEntries[d];if(T.tryLoc<=this.prev&&t.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var v=T;break}}v&&(c==="break"||c==="continue")&&v.tryLoc<=s&&s<=v.finallyLoc&&(v=null);var j=v?v.completion:{};return j.type=c,j.arg=s,v?(this.method="next",this.next=v.finallyLoc,k):this.complete(j)},complete:function(c,s){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&s&&(this.next=s),k},finish:function(c){for(var s=this.tryEntries.length-1;s>=0;--s){var d=this.tryEntries[s];if(d.finallyLoc===c)return this.complete(d.completion,d.afterLoc),y(d),k}},catch:function(c){for(var s=this.tryEntries.length-1;s>=0;--s){var d=this.tryEntries[s];if(d.tryLoc===c){var T=d.completion;if(T.type==="throw"){var v=T.arg;y(d)}return v}}throw new Error("illegal catch attempt")},delegateYield:function(c,s,d){return this.delegate={iterator:V(c),resultName:s,nextLoc:d},this.method==="next"&&(this.arg=void 0),k}},n}function pe(n,e,t,r,i,a,o){try{var u=n[a](o),f=u.value}catch(l){t(l);return}u.done?e(f):Promise.resolve(f).then(r,i)}function H(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function o(f){pe(a,r,i,o,u,"next",f)}function u(f){pe(a,r,i,o,u,"throw",f)}o(void 0)})}}function we(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function me(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Pe(r.key),r)}}function be(n,e,t){return e&&me(n.prototype,e),t&&me(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function re(n,e,t){return e=Pe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Le(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ee(n,e)}function K(n){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},K(n)}function ee(n,e){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ee(n,e)}function ke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ne(n,e,t){return ke()?ne=Reflect.construct.bind():ne=function(i,a,o){var u=[null];u.push.apply(u,a);var f=Function.bind.apply(i,u),l=new f;return o&&ee(l,o.prototype),l},ne.apply(null,arguments)}function Ve(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function ce(n){var e=typeof Map=="function"?new Map:void 0;return ce=function(r){if(r===null||!Ve(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return ne(r,arguments,K(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ee(i,r)},ce(n)}function ie(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function De(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ie(n)}function qe(n){var e=ke();return function(){var r=K(n),i;if(e){var a=K(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return De(this,i)}}function $e(n,e){return ze(n)||Ie(n,e)||We(n,e)||Qe()}function ze(n){if(Array.isArray(n))return n}function We(n,e){if(n){if(typeof n=="string")return ve(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ve(n,e)}}function ve(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Qe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ue(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Pe(n){var e=Ue(n,"string");return typeof e=="symbol"?e:String(e)}var Ge=typeof global<"u"&&{}.toString.call(global)==="[object global]",He=typeof Bun<"u",Be=typeof Deno<"u",Ee=Ge||He||Be;function ge(n,e){return n.indexOf(e.toLowerCase())===0?n:"".concat(e.toLowerCase()).concat(n.substr(0,1).toUpperCase()).concat(n.substr(1))}function Ye(n){return!!(n&&n.nodeType===1&&"nodeName"in n&&n.ownerDocument&&n.ownerDocument.defaultView)}function Xe(n){return!isNaN(parseFloat(n))&&isFinite(n)&&Math.floor(n)==n}function $(n){return/^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))(?=$|\/)/.test(n)}function Te(n){var e=/^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))\/video\/\d+/;return e.test(n)}function Je(n){for(var e=(n||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),t=(e&&e[1]||"").replace("player.",""),r=[".videoji.hk",".vimeo.work",".videoji.cn"],i=0,a=r;i<a.length;i++){var o=a[i];if(t.endsWith(o))return t}return"vimeo.com"}function Me(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.id,t=n.url,r=e||t;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(Xe(r))return"https://vimeo.com/".concat(r);if($(r))return r.replace("http:","https:");throw e?new TypeError("“".concat(e,"” is not a valid video id.")):new TypeError("“".concat(r,"” is not a vimeo.com url."))}var ye=function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",o=typeof t=="string"?[t]:t;return o.forEach(function(u){e[i](u,r)}),{cancel:function(){return o.forEach(function(f){return e[a](f,r)})}}};function ue(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;if(!n||!e||typeof e.querySelectorAll!="function")return null;for(var t=e.querySelectorAll("iframe"),r=0;r<t.length;r++)if(t[r]&&t[r].contentWindow===n)return t[r];return null}var Ze=typeof Array.prototype.indexOf<"u",Ke=typeof window<"u"&&typeof window.postMessage<"u";if(!Ee&&(!Ze||!Ke))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function et(n,e){return e={exports:{}},n(e,e.exports),e.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(n){if(n.WeakMap)return;var e=Object.prototype.hasOwnProperty,t=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),r=function(a,o,u){t?Object.defineProperty(a,o,{configurable:!0,writable:!0,value:u}):a[o]=u};n.WeakMap=function(){function a(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",u("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}r(a.prototype,"delete",function(l){if(o(this,"delete"),!i(l))return!1;var b=l[this._id];return b&&b[0]===l?(delete l[this._id],!0):!1}),r(a.prototype,"get",function(l){if(o(this,"get"),!!i(l)){var b=l[this._id];if(b&&b[0]===l)return b[1]}}),r(a.prototype,"has",function(l){if(o(this,"has"),!i(l))return!1;var b=l[this._id];return!!(b&&b[0]===l)}),r(a.prototype,"set",function(l,b){if(o(this,"set"),!i(l))throw new TypeError("Invalid value used as weak map key");var k=l[this._id];return k&&k[0]===l?(k[1]=b,this):(r(l,this._id,[l,b]),this)});function o(l,b){if(!i(l)||!e.call(l,"_id"))throw new TypeError(b+" method called on incompatible receiver "+typeof l)}function u(l){return l+"_"+f()+"."+f()}function f(){return Math.random().toString().substring(2)}return r(a,"_polyfill",!0),a}();function i(a){return Object(a)===a}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Y);var q=et(function(n){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(t,r,i){r[t]=r[t]||i(),n.exports&&(n.exports=r[t])})("Promise",Y,function(){var t,r,i,a=Object.prototype.toString,o=typeof setImmediate<"u"?function(h){return setImmediate(h)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(h,p,w,M){return Object.defineProperty(h,p,{value:w,writable:!0,configurable:M!==!1})}}catch{t=function(p,w,M){return p[w]=M,p}}i=function(){var h,p,w;function M(x,y){this.fn=x,this.self=y,this.next=void 0}return{add:function(y,N){w=new M(y,N),p?p.next=w:h=w,p=w,w=void 0},drain:function(){var y=h;for(h=p=r=void 0;y;)y.fn.call(y.self),y=y.next}}}();function u(m,h){i.add(m,h),r||(r=o(i.drain))}function f(m){var h,p=typeof m;return m!=null&&(p=="object"||p=="function")&&(h=m.then),typeof h=="function"?h:!1}function l(){for(var m=0;m<this.chain.length;m++)b(this,this.state===1?this.chain[m].success:this.chain[m].failure,this.chain[m]);this.chain.length=0}function b(m,h,p){var w,M;try{h===!1?p.reject(m.msg):(h===!0?w=m.msg:w=h.call(void 0,m.msg),w===p.promise?p.reject(TypeError("Promise-chain cycle")):(M=f(w))?M.call(w,p.resolve,p.reject):p.resolve(w))}catch(x){p.reject(x)}}function k(m){var h,p=this;if(!p.triggered){p.triggered=!0,p.def&&(p=p.def);try{(h=f(m))?u(function(){var w=new g(p);try{h.call(m,function(){k.apply(w,arguments)},function(){E.apply(w,arguments)})}catch(M){E.call(w,M)}}):(p.msg=m,p.state=1,p.chain.length>0&&u(l,p))}catch(w){E.call(new g(p),w)}}}function E(m){var h=this;h.triggered||(h.triggered=!0,h.def&&(h=h.def),h.msg=m,h.state=2,h.chain.length>0&&u(l,h))}function P(m,h,p,w){for(var M=0;M<h.length;M++)(function(y){m.resolve(h[y]).then(function(V){p(y,V)},w)})(M)}function g(m){this.def=m,this.triggered=!1}function R(m){this.promise=m,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function A(m){if(typeof m!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var h=new R(this);this.then=function(w,M){var x={success:typeof w=="function"?w:!0,failure:typeof M=="function"?M:!1};return x.promise=new this.constructor(function(N,V){if(typeof N!="function"||typeof V!="function")throw TypeError("Not a function");x.resolve=N,x.reject=V}),h.chain.push(x),h.state!==0&&u(l,h),x.promise},this.catch=function(w){return this.then(void 0,w)};try{m.call(void 0,function(w){k.call(h,w)},function(w){E.call(h,w)})}catch(p){E.call(h,p)}}var _=t({},"constructor",A,!1);return A.prototype=_,t(_,"__NPO__",0,!1),t(A,"resolve",function(h){var p=this;return h&&typeof h=="object"&&h.__NPO__===1?h:new p(function(M,x){if(typeof M!="function"||typeof x!="function")throw TypeError("Not a function");M(h)})}),t(A,"reject",function(h){return new this(function(w,M){if(typeof w!="function"||typeof M!="function")throw TypeError("Not a function");M(h)})}),t(A,"all",function(h){var p=this;return a.call(h)!="[object Array]"?p.reject(TypeError("Not an array")):h.length===0?p.resolve([]):new p(function(M,x){if(typeof M!="function"||typeof x!="function")throw TypeError("Not a function");var y=h.length,N=Array(y),V=0;P(p,h,function(c,s){N[c]=s,++V===y&&M(N)},x)})}),t(A,"race",function(h){var p=this;return a.call(h)!="[object Array]"?p.reject(TypeError("Not an array")):new p(function(M,x){if(typeof M!="function"||typeof x!="function")throw TypeError("Not a function");P(p,h,function(N,V){M(V)},x)})}),A})}),z=new WeakMap;function Z(n,e,t){var r=z.get(n.element)||{};e in r||(r[e]=[]),r[e].push(t),z.set(n.element,r)}function ae(n,e){var t=z.get(n.element)||{};return t[e]||[]}function oe(n,e,t){var r=z.get(n.element)||{};if(!r[e])return!0;if(!t)return r[e]=[],z.set(n.element,r),!0;var i=r[e].indexOf(t);return i!==-1&&r[e].splice(i,1),z.set(n.element,r),r[e]&&r[e].length===0}function tt(n,e){var t=ae(n,e);if(t.length<1)return!1;var r=t.shift();return oe(n,e,r),r}function rt(n,e){var t=z.get(n);z.set(e,t),z.delete(n)}function te(n){if(typeof n=="string")try{n=JSON.parse(n)}catch(e){return console.warn(e),{}}return n}function G(n,e,t){if(!(!n.element.contentWindow||!n.element.contentWindow.postMessage)){var r={method:e};t!==void 0&&(r.value=t);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));i>=8&&i<10&&(r=JSON.stringify(r)),n.element.contentWindow.postMessage(r,n.origin)}}function nt(n,e){e=te(e);var t=[],r;if(e.event){if(e.event==="error"){var i=ae(n,e.data.method);i.forEach(function(o){var u=new Error(e.data.message);u.name=e.data.name,o.reject(u),oe(n,e.data.method,o)})}t=ae(n,"event:".concat(e.event)),r=e.data}else if(e.method){var a=tt(n,e.method);a&&(t.push(a),r=e.value)}t.forEach(function(o){try{if(typeof o=="function"){o.call(n,r);return}o.resolve(r)}catch{}})}var it=["airplay","audio_tracks","audiotrack","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","initial_quality","interactive_params","keyboard","loop","maxheight","max_quality","maxwidth","min_quality","muted","play_button_position","playsinline","portrait","preload","progress_bar","quality","quality_selector","responsive","skipping_forward","speed","start_time","texttrack","thumbnail_id","title","transcript","transparent","unmute_button","url","vimeo_logo","volume","watch_full_video","width"];function Se(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return it.reduce(function(t,r){var i=n.getAttribute("data-vimeo-".concat(r));return(i||i==="")&&(t[r]=i===""?1:i),t},e)}function le(n,e){var t=n.html;if(!e)throw new TypeError("An element must be provided");if(e.getAttribute("data-vimeo-initialized")!==null)return e.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=t,e.appendChild(r.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function je(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;return new Promise(function(r,i){if(!$(n))throw new TypeError("“".concat(n,"” is not a vimeo.com url."));var a=Je(n),o="https://".concat(a,"/api/oembed.json?url=").concat(encodeURIComponent(n));for(var u in e)e.hasOwnProperty(u)&&(o+="&".concat(u,"=").concat(encodeURIComponent(e[u])));var f="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;f.open("GET",o,!0),f.onload=function(){if(f.status===404){i(new Error("“".concat(n,"” was not found.")));return}if(f.status===403){i(new Error("“".concat(n,"” is not embeddable.")));return}try{var l=JSON.parse(f.responseText);if(l.domain_status_code===403){le(l,t),i(new Error("“".concat(n,"” is not embeddable.")));return}r(l)}catch(b){i(b)}},f.onerror=function(){var l=f.status?" (".concat(f.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(l,".")))},f.send()})}function at(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=[].slice.call(n.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),t=function(i){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(i))};e.forEach(function(r){try{if(r.getAttribute("data-vimeo-defer")!==null)return;var i=Se(r),a=Me(i);je(a,i,r).then(function(o){return le(o,r)}).catch(t)}catch(o){t(o)}})}function ot(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(r){if($(r.origin)&&!(!r.data||r.data.event!=="spacechange")){var i=r.source?ue(r.source,n):null;if(i){var a=i.parentElement;a.style.paddingBottom="".concat(r.data.data[0].bottom,"px")}}};window.addEventListener("message",e)}}function ut(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var e=function(r){if($(r.origin)){var i=te(r.data);if(!(!i||i.event!=="ready")){var a=r.source?ue(r.source,n):null;if(a&&Te(a.src)){var o=new fe(a);o.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",e)}}function st(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var e=function(i){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(i))},t=function(i){if($(i.origin)){var a=te(i.data);if(!(!a||a.event!=="ready")){var o=i.source?ue(i.source,n):null;if(o&&Te(o.src)){var u=new fe(o);u.getVideoId().then(function(f){var l=new RegExp("[?&]vimeo_t_".concat(f,"=([^&#]*)")).exec(window.location.href);if(l&&l[1]){var b=decodeURI(l[1]);u.setCurrentTime(b)}}).catch(e)}}}};window.addEventListener("message",t)}}function ct(){if(!window.VimeoDRMEmbedsUpdated){window.VimeoDRMEmbedsUpdated=!0;var n=function(t){if($(t.origin)){var r=te(t.data);if(!(!r||r.event!=="drminitfailed")){var i=t.source?ue(t.source):null;if(i){var a=i.getAttribute("allow")||"",o=a.includes("encrypted-media");if(!o){i.setAttribute("allow","".concat(a,"; encrypted-media"));var u=new URL(i.getAttribute("src"));u.searchParams.set("forcereload","drm"),i.setAttribute("src",u.toString());return}}}}};window.addEventListener("message",n)}}function lt(){var n=function(){for(var r,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=0,o=i.length,u={};a<o;a++)if(r=i[a],r&&r[1]in document){for(a=0;a<r.length;a++)u[i[0][a]]=r[a];return u}return!1}(),e={fullscreenchange:n.fullscreenchange,fullscreenerror:n.fullscreenerror},t={request:function(i){return new Promise(function(a,o){var u=function l(){t.off("fullscreenchange",l),a()};t.on("fullscreenchange",u),i=i||document.documentElement;var f=i[n.requestFullscreen]();f instanceof Promise&&f.then(u).catch(o)})},exit:function(){return new Promise(function(i,a){if(!t.isFullscreen){i();return}var o=function f(){t.off("fullscreenchange",f),i()};t.on("fullscreenchange",o);var u=document[n.exitFullscreen]();u instanceof Promise&&u.then(o).catch(a)})},on:function(i,a){var o=e[i];o&&document.addEventListener(o,a)},off:function(i,a){var o=e[i];o&&document.removeEventListener(o,a)}};return Object.defineProperties(t,{isFullscreen:{get:function(){return!!document[n.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[n.fullscreenEnabled]}}}),t}var ft={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},dt=function(n){Le(t,n);var e=qe(t);function t(r,i){var a,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;return we(this,t),a=e.call(this),re(ie(a),"logger",void 0),re(ie(a),"speedAdjustment",0),re(ie(a),"adjustSpeed",function(){var f=H(L().mark(function l(b,k){var E;return L().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(a.speedAdjustment!==k){g.next=2;break}return g.abrupt("return");case 2:return g.next=4,b.getPlaybackRate();case 4:return g.t0=g.sent,g.t1=a.speedAdjustment,g.t2=g.t0-g.t1,g.t3=k,E=g.t2+g.t3,a.log("New playbackRate:  ".concat(E)),g.next=12,b.setPlaybackRate(E);case 12:a.speedAdjustment=k;case 13:case"end":return g.stop()}},l)}));return function(l,b){return f.apply(this,arguments)}}()),a.logger=u,a.init(i,r,he(he({},ft),o)),a}return be(t,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:function(){var r=H(L().mark(function a(o,u,f){var l=this,b,k,E;return L().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this.waitForTOReadyState(o,"open");case 2:if(f.role!=="viewer"){g.next=10;break}return g.next=5,this.updatePlayer(o,u,f);case 5:b=ye(o,"change",function(){return l.updatePlayer(o,u,f)}),k=this.maintainPlaybackPosition(o,u,f),this.addEventListener("disconnect",function(){k.cancel(),b.cancel()}),g.next=14;break;case 10:return g.next=12,this.updateTimingObject(o,u);case 12:E=ye(u,["seeked","play","pause","ratechange"],function(){return l.updateTimingObject(o,u)},"on","off"),this.addEventListener("disconnect",function(){return E.cancel()});case 14:case"end":return g.stop()}},a,this)}));function i(a,o,u){return r.apply(this,arguments)}return i}()},{key:"updateTimingObject",value:function(){var r=H(L().mark(function a(o,u){var f,l,b,k,E;return L().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Promise.all([u.getCurrentTime(),u.getPaused(),u.getPlaybackRate()]);case 2:f=g.sent,l=$e(f,3),b=l[0],k=l[1],E=l[2],o.update({position:b,velocity:k?0:E});case 8:case"end":return g.stop()}},a)}));function i(a,o){return r.apply(this,arguments)}return i}()},{key:"updatePlayer",value:function(){var r=H(L().mark(function a(o,u,f){var l,b,k;return L().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(l=o.query(),b=l.position,k=l.velocity,typeof b=="number"&&u.setCurrentTime(b),typeof k!="number"){P.next=25;break}if(k!==0){P.next=11;break}return P.next=6,u.getPaused();case 6:if(P.t0=P.sent,P.t0!==!1){P.next=9;break}u.pause();case 9:P.next=25;break;case 11:if(!(k>0)){P.next=25;break}return P.next=14,u.getPaused();case 14:if(P.t1=P.sent,P.t1!==!0){P.next=19;break}return P.next=18,u.play().catch(function(){var g=H(L().mark(function R(A){return L().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(A.name==="NotAllowedError"&&f.autoPlayMuted)){m.next=5;break}return m.next=3,u.setMuted(!0);case 3:return m.next=5,u.play().catch(function(h){return console.error("Couldn't play the video from TimingSrcConnector. Error:",h)});case 5:case"end":return m.stop()}},R)}));return function(R){return g.apply(this,arguments)}}());case 18:this.updatePlayer(o,u,f);case 19:return P.next=21,u.getPlaybackRate();case 21:if(P.t2=P.sent,P.t3=k,P.t2===P.t3){P.next=25;break}u.setPlaybackRate(k);case 25:case"end":return P.stop()}},a,this)}));function i(a,o,u){return r.apply(this,arguments)}return i}()},{key:"maintainPlaybackPosition",value:function(i,a,o){var u=this,f=o.allowedDrift,l=o.maxAllowedDrift,b=o.minCheckInterval,k=o.maxRateAdjustment,E=o.maxTimeToCatchUp,P=Math.min(E,Math.max(b,l))*1e3,g=function(){var A=H(L().mark(function _(){var m,h,p,w,M;return L().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(y.t0=i.query().velocity===0,y.t0){y.next=6;break}return y.next=4,a.getPaused();case 4:y.t1=y.sent,y.t0=y.t1===!0;case 6:if(!y.t0){y.next=8;break}return y.abrupt("return");case 8:return y.t2=i.query().position,y.next=11,a.getCurrentTime();case 11:if(y.t3=y.sent,m=y.t2-y.t3,h=Math.abs(m),u.log("Drift: ".concat(m)),!(h>l)){y.next=22;break}return y.next=18,u.adjustSpeed(a,0);case 18:a.setCurrentTime(i.query().position),u.log("Resync by currentTime"),y.next=29;break;case 22:if(!(h>f)){y.next=29;break}return p=h/E,w=k,M=p<w?(w-p)/2:w,y.next=28,u.adjustSpeed(a,M*Math.sign(m));case 28:u.log("Resync by playbackRate");case 29:case"end":return y.stop()}},_)}));return function(){return A.apply(this,arguments)}}(),R=setInterval(function(){return g()},P);return{cancel:function(){return clearInterval(R)}}}},{key:"log",value:function(i){var a;(a=this.logger)===null||a===void 0||a.call(this,"TimingSrcConnector: ".concat(i))}},{key:"waitForTOReadyState",value:function(i,a){return new Promise(function(o){var u=function f(){i.readyState===a?o():i.addEventListener("readystatechange",f,{once:!0})};u()})}}]),t}(ce(EventTarget)),B=new WeakMap,se=new WeakMap,D={},fe=function(){function n(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(we(this,n),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),typeof document<"u"&&typeof e=="string"&&(e=document.getElementById(e)),!Ye(e))throw new TypeError("You must pass either a valid element or a valid id.");if(e.nodeName!=="IFRAME"){var i=e.querySelector("iframe");i&&(e=i)}if(e.nodeName==="IFRAME"&&!$(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(B.has(e))return B.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var a=new q(function(u,f){if(t._onMessage=function(k){if(!(!$(k.origin)||t.element.contentWindow!==k.source)){t.origin==="*"&&(t.origin=k.origin);var E=te(k.data),P=E&&E.event==="error",g=P&&E.data&&E.data.method==="ready";if(g){var R=new Error(E.data.message);R.name=E.data.name,f(R);return}var A=E&&E.event==="ready",_=E&&E.method==="ping";if(A||_){t.element.setAttribute("data-ready","true"),u();return}nt(t,E)}},t._window.addEventListener("message",t._onMessage),t.element.nodeName!=="IFRAME"){var l=Se(e,r),b=Me(l);je(b,l,e).then(function(k){var E=le(k,e);return t.element=E,t._originalElement=e,rt(e,E),B.set(t.element,t),k}).catch(f)}});if(se.set(this,a),B.set(this.element,this),this.element.nodeName==="IFRAME"&&G(this,"ping"),D.isEnabled){var o=function(){return D.exit()};this.fullscreenchangeHandler=function(){D.isFullscreen?Z(t,"event:exitFullscreen",o):oe(t,"event:exitFullscreen",o),t.ready().then(function(){G(t,"fullscreenchange",D.isFullscreen)})},D.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return be(n,[{key:"callMethod",value:function(t){for(var r=this,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(t==null)throw new TypeError("You must pass a method name.");return new q(function(u,f){return r.ready().then(function(){Z(r,t,{resolve:u,reject:f}),a.length===0?a={}:a.length===1&&(a=a[0]),G(r,t,a)}).catch(f)})}},{key:"get",value:function(t){var r=this;return new q(function(i,a){return t=ge(t,"get"),r.ready().then(function(){Z(r,t,{resolve:i,reject:a}),G(r,t)}).catch(a)})}},{key:"set",value:function(t,r){var i=this;return new q(function(a,o){if(t=ge(t,"set"),r==null)throw new TypeError("There must be a value to set.");return i.ready().then(function(){Z(i,t,{resolve:a,reject:o}),G(i,t,r)}).catch(o)})}},{key:"on",value:function(t,r){if(!t)throw new TypeError("You must pass an event name.");if(!r)throw new TypeError("You must pass a callback function.");if(typeof r!="function")throw new TypeError("The callback must be a function.");var i=ae(this,"event:".concat(t));i.length===0&&this.callMethod("addEventListener",t).catch(function(){}),Z(this,"event:".concat(t),r)}},{key:"off",value:function(t,r){if(!t)throw new TypeError("You must pass an event name.");if(r&&typeof r!="function")throw new TypeError("The callback must be a function.");var i=oe(this,"event:".concat(t),r);i&&this.callMethod("removeEventListener",t).catch(function(a){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=se.get(this)||new q(function(r,i){i(new Error("Unknown player. Probably unloaded."))});return q.resolve(t)}},{key:"addCuePoint",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:r})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:r,showing:i})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"selectAudioTrack",value:function(t,r){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("selectAudioTrack",{language:t,kind:r})}},{key:"selectDefaultAudioTrack",value:function(){return this.callMethod("selectDefaultAudioTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return D.isEnabled?D.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return D.isEnabled?D.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return D.isEnabled?q.resolve(D.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new q(function(r){if(se.delete(t),B.delete(t.element),t._originalElement&&(B.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&t.element.nodeName==="IFRAME"&&t.element.parentNode&&(t.element.parentNode.parentNode&&t._originalElement&&t._originalElement!==t.element.parentNode?t.element.parentNode.parentNode.removeChild(t.element.parentNode):t.element.parentNode.removeChild(t.element)),t.element&&t.element.nodeName==="DIV"&&t.element.parentNode){t.element.removeAttribute("data-vimeo-initialized");var i=t.element.querySelector("iframe");i&&i.parentNode&&(i.parentNode.parentNode&&t._originalElement&&t._originalElement!==i.parentNode?i.parentNode.parentNode.removeChild(i.parentNode):i.parentNode.removeChild(i))}t._window.removeEventListener("message",t._onMessage),D.isEnabled&&D.off("fullscreenchange",t.fullscreenchangeHandler),r()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(t){return this.set("cameraProps",t)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return q.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"setColors",value:function(t){if(!Array.isArray(t))return new q(function(a,o){return o(new TypeError("Argument must be an array."))});var r=new q(function(a){return a(null)}),i=[t[0]?this.set("colorOne",t[0]):r,t[1]?this.set("colorTwo",t[1]):r,t[2]?this.set("colorThree",t[2]):r,t[3]?this.set("colorFour",t[3]):r];return q.all(i)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"setMuted",value:function(t){return this.set("muted",t)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(t){return this.set("quality",t)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getAudioTracks",value:function(){return this.get("audioTracks")}},{key:"getEnabledAudioTrack",value:function(){return this.get("enabledAudioTrack")}},{key:"getDefaultAudioTrack",value:function(){return this.get("defaultAudioTrack")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}},{key:"setTimingSrc",value:function(){var e=H(L().mark(function r(i,a){var o=this,u;return L().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i){l.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return l.next=4,this.ready();case 4:return u=new dt(this,i,a),G(this,"notifyTimingObjectConnect"),u.addEventListener("disconnect",function(){return G(o,"notifyTimingObjectDisconnect")}),l.abrupt("return",u);case 8:case"end":return l.stop()}},r,this)}));function t(r,i){return e.apply(this,arguments)}return t}()}],[{key:"isVimeoUrl",value:function(t){return $(t)}}]),n}();Ee||(D=lt(),at(),ot(),ut(),st(),ct());function pt({provider:n,vimeoId:e,driveFileId:t}){const r=I.useRef(null),i=I.useRef(null),a=I.useRef(null),o=I.useRef(null),[u,f]=I.useState(!0),[l,b]=I.useState(!0),[k,E]=I.useState(!1),[P,g]=I.useState(!1),[R,A]=I.useState(!1),[_,m]=I.useState(!1),[h,p]=I.useState([]),[w,M]=I.useState("auto"),[x,y]=I.useState(0),[N,V]=I.useState(0);I.useEffect(()=>{if(n!=="vimeo"||!r.current||!e)return;const S=new fe(r.current,{id:e,autoplay:!0,muted:!0,loop:!0,controls:!1,autopause:!1});a.current=S,S.on("play",()=>f(!0)),S.on("pause",()=>f(!1)),S.getDuration().then(V),S.on("timeupdate",O=>y(O.seconds)),S.getQualities().then(O=>p(O.map(W=>W.id))).catch(()=>p(["auto"])),S.getQuality().then(M).catch(()=>{});const F=()=>A(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",F),()=>{S.destroy(),document.removeEventListener("fullscreenchange",F)}},[n,e]);const X=async()=>{n==="vimeo"&&a.current&&(u?await a.current.pause():await a.current.play()),f(!u)},c=async()=>{n==="vimeo"&&a.current&&await a.current.setMuted(!l),b(!l)},s=async()=>{o.current&&await o.current.requestFullscreen()},d=()=>g(!P),T=()=>{e&&window.open(`https://vimeo.com/${e}`,"_blank")},v=async S=>{a.current&&(await a.current.setQuality(S),M(S),m(!1))},j=N>0?x/N*100:0;return C.jsxs("div",{ref:o,className:`relative aspect-video overflow-hidden group bg-black ${R?"w-screen h-screen":""}`,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[n==="vimeo"&&C.jsx("div",{ref:r,className:"absolute inset-0 [&>iframe]:w-full [&>iframe]:h-full"}),n==="drive"&&t&&C.jsx("iframe",{ref:i,src:`https://drive.google.com/file/d/${t}/preview`,className:"absolute inset-0 w-full h-full",allow:"autoplay; fullscreen"}),n==="vimeo"&&(k||R)&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"absolute bottom-3 left-3 right-3 bg-black/60 rounded-md text-white z-10",children:[C.jsx("div",{className:"px-3 pt-3 pb-2",children:C.jsx("div",{className:"w-full h-1 bg-white/30 rounded-full",children:C.jsx("div",{className:"h-full bg-white rounded-full",style:{width:`${j}%`}})})}),C.jsxs("div",{className:"flex items-center gap-3 px-3 pb-2",children:[C.jsx("button",{onClick:X,children:u?C.jsx(Ae,{size:16}):C.jsx(Oe,{size:16})}),C.jsx("button",{onClick:c,children:l?C.jsx(Fe,{size:16}):C.jsx(Ne,{size:16})}),C.jsx("div",{className:"flex-1"}),C.jsxs("div",{className:"relative",children:[C.jsx("button",{onClick:()=>m(!_),children:C.jsx(Re,{size:16})}),_&&C.jsx("div",{className:"absolute bottom-full right-0 mb-2 bg-black/90 rounded-md py-2 min-w-[120px]",children:h.map(S=>C.jsx("button",{onClick:()=>v(S),className:`block w-full text-left px-3 py-2 ${w===S?"text-blue-400":"text-white"}`,children:S==="auto"?"Auto":`${S}p`},S))})]}),C.jsx("button",{onClick:s,children:C.jsx(xe,{size:16})})]})]}),C.jsxs("div",{className:"absolute top-3 right-3 flex gap-3 z-10 text-white",children:[C.jsx("button",{onClick:d,className:`bg-black/60 p-2 rounded-full ${P?"text-red-500":""}`,children:C.jsx(Ce,{size:16,fill:P?"currentColor":"none"})}),C.jsx("button",{onClick:T,className:"bg-black/60 p-2 rounded-full",children:C.jsx(_e,{size:16})})]})]})]})}export{pt as V};
